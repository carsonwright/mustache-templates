!function(){function t(t){var e={val:t},n=t.split(/\s+in\s+/);return n[1]&&(e.val=b(0)+n[1],n=n[0].slice(b(0).length).trim().split(/,\s*/),e.key=n[0],e.pos=n[1]),e}function e(t,e,n){var i={};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function n(n,i,r){function a(t,e,n){d.splice(t,0,e),m.splice(t,0,n)}c(n,"each");var s,f=n.outerHTML,p=n.previousSibling,l=n.parentNode,d=[],m=[];r=t(r),i.one("update",function(){l.removeChild(n)}).one("premount",function(){l.stub&&(l=i.root)}).on("update",function(){var t=w(r.val,i);if(t){if(!Array.isArray(t)){var n=JSON.stringify(t);if(n==s)return;s=n,u(m,function(t){t.unmount()}),d=[],m=[],t=Object.keys(t).map(function(n){return e(r,n,t[n])})}u(g(d,t),function(t){var e=d.indexOf(t),n=m[e];n&&(n.unmount(),d.splice(e,1),m.splice(e,1))});var c=l.childNodes,v=[].indexOf.call(c,p);u(t,function(n,u){var p=t.indexOf(n,u),g=d.indexOf(n,u);if(0>p&&(p=t.lastIndexOf(n,u)),0>g&&(g=d.lastIndexOf(n,u)),0>g){!s&&r.key&&(n=e(r,n,p));var h=new o({tmpl:f},{before:c[v+1+p],parent:i,root:l,item:n});return h.mount(),a(p,n,h)}return r.pos&&m[g][r.pos]!=p&&(m[g].one("update",function(t){t[r.pos]=p}),m[g].update()),p!=g?(l.insertBefore(c[v+g+1],c[v+p+1]),a(p,d.splice(g,1)[0],m.splice(g,1)[0])):void 0}),d=t.slice()}})}function i(t,e,n){d(t,function(t){if(1==t.nodeType){var i=v(t);if(i&&!t.getAttribute("each")){var r=new o(i,{root:t,parent:e});e.tags[t.getAttribute("name")||i.name]=r,n.push(r)}u(t.attributes,function(n){/^(name|id)$/.test(n.name)&&(e[n.value]=t)})}})}function r(t,e,i){function r(t,e,n){if(e.indexOf(b(0))>=0){var r={dom:t,expr:e};i.push(p(r,n))}}d(t,function(t){var i=t.nodeType;if(3==i&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==i){var o=t.getAttribute("each");return o?(n(t,e,o),!1):(u(t.attributes,function(e){var n=e.name,i=n.split("__")[1];return r(t,e.value,{attr:i||n,bool:i}),i?(c(t,n),!1):void 0}),v(t)?!1:void 0)}})}function o(t,e){function n(){u(Object.keys(S),function(t){c[t]=w(S[t],g||s)})}function o(t){if(u(h,function(e){e[t?"mount":"unmount"]()}),g){var e=t?"on":"off";g[e]("update",s.update)[e]("unmount",s.unmount)}}var a,s=x.observable(this),c=m(e.opts)||{},d=l(t.tmpl),g=e.parent,v=[],h=[],y=e.root,b=e.item,k=t.fn,S={};k&&y.riot||(y.riot=!0,p(this,{parent:g,root:y,opts:c,tags:{}},b),u(y.attributes,function(t){S[t.name]=t.value}),this.update=function(t){p(s,t,b),n(),s.trigger("update",b),f(v,s,b),s.trigger("updated")},this.mount=function(){if(n(),k&&k.call(s,c),o(!0),r(d,s,v),s.update(),s.trigger("premount"),k)for(;d.firstChild;)y.appendChild(d.firstChild);else a=d.firstChild,y.insertBefore(a,e.before||null);y.stub&&(s.root=y=g.root),s.trigger("mount")},this.unmount=function(){var t=k?y:a,e=t.parentNode;if(e){if(g)e.removeChild(t);else for(;y.firstChild;)y.removeChild(y.firstChild);o(),s.trigger("unmount"),s.off("*"),delete y.riot}},i(d,this,h))}function a(t,e,n,i,r){n[t]=function(t){t=t||window.event,t.which=t.which||t.charCode||t.keyCode,t.target=t.target||t.srcElement,t.currentTarget=n,t.item=r,e.call(i,t)!==!0&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1);var o=r?i.parent:i;o.update()}}function s(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function f(t,e,n){u(t,function(t){var i=t.dom,r=t.attr,o=w(t.expr,e),f=t.dom.parentNode;if(null==o&&(o=""),f&&"TEXTAREA"==f.tagName&&(o=o.replace(/riot-/g,"")),t.value!==o){if(t.value=o,!r)return i.nodeValue=o;if(c(i,r),"function"==typeof o)a(r,o,i,e,n);else if("if"==r){var u=t.stub;o?u&&s(u.parentNode,u,i):(u=t.stub=u||document.createTextNode(""),s(i.parentNode,i,u))}else if(/^(show|hide)$/.test(r))"hide"==r&&(o=!o),i.style.display=o?"":"none";else if("value"==r)i.value=o;else if("riot-"==r.slice(0,5))r=r.slice(5),o?i.setAttribute(r,o):c(i,r);else{if(t.bool){if(i[r]=o,!o)return;o=r}"object"!=typeof o&&i.setAttribute(r,o)}}})}function u(t,e){for(var n,i=0,r=(t||[]).length;r>i;i++)n=t[i],null!=n&&e(n,i)===!1&&i--;return t}function c(t,e){t.removeAttribute(e)}function p(t,e,n){return e&&u(Object.keys(e),function(n){t[n]=e[n]}),n?p(t,n):t}function l(t){var e=t.trim().slice(1,3).toLowerCase(),n=/td|th/.test(e)?"tr":"tr"==e?"tbody":"div",i=document.createElement(n);return i.stub=!0,i.innerHTML=t,i}function d(t,e){if(t)if(e(t)===!1)d(t.nextSibling,e);else for(t=t.firstChild;t;)d(t,e),t=t.nextSibling}function g(t,e){return t.filter(function(t){return e.indexOf(t)<0})}function m(t){function e(){}return e.prototype=t,new e}function v(t){return S[t.tagName.toLowerCase()]}function h(t){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}function y(t,e,n){var i=S[e];return i&&t&&(i=new o(i,{root:t,opts:n})),i&&i.mount?(i.mount(),k.push(i),i.on("unmount",function(){k.splice(k.indexOf(i),1)})):void 0}var x={version:"v2.0.12",settings:{}};x.observable=function(t){t=t||{};var e={},n=0;return t.on=function(i,r){return"function"==typeof r&&(r._id="undefined"==typeof r._id?n++:r._id,i.replace(/\S+/g,function(t,n){(e[t]=e[t]||[]).push(r),r.typed=n>0})),t},t.off=function(n,i){return"*"==n?e={}:n.replace(/\S+/g,function(t){if(i)for(var n,r=e[t],o=0;n=r&&r[o];++o)n._id==i._id&&(r.splice(o,1),o--);else e[t]=[]}),t},t.one=function(e,n){return n&&(n.one=1),t.on(e,n)},t.trigger=function(n){for(var i,r=[].slice.call(arguments,1),o=e[n]||[],a=0;i=o[a];++a)i.busy||(i.busy=1,i.apply(t,i.typed?[n].concat(r):r),i.one?(o.splice(a,1),a--):o[a]!==i&&a--,i.busy=0);return t},t},function(t,e){function n(){return a.hash.slice(1)}function i(t){return t.split("/")}function r(t){t.type&&(t=n()),t!=o&&(s.trigger.apply(null,["H"].concat(i(t))),o=t)}if(this.top){var o,a=location,s=t.observable(),f=window,u=t.route=function(t){t[0]?(a.hash=t,r(t)):s.on("H",t)};u.exec=function(t){t.apply(null,i(n()))},u.parser=function(t){i=t},f.addEventListener?f.addEventListener(e,r,!1):f.attachEvent("on"+e,r)}}(x,"hashchange");var b=function(t,e,n){return function(i){return e=x.settings.brackets||t,n!=e&&(n=e.split(" ")),i&&i.test?e==t?i:RegExp(i.source.replace(/\{/g,n[0].replace(/(?=.)/g,"\\")).replace(/\}/g,n[1].replace(/(?=.)/g,"\\")),i.global?"g":""):n[i]}}("{ }"),w=function(){function t(t,n){return t=(t||b(0)+b(1)).replace(b(/\\{/g),"￰").replace(b(/\\}/g),"￱"),n=i(t,b(/{[\s\S]*?}/g)),new Function("d","return "+(n[0]||n[2]||n[3]?"["+n.map(function(t,n){return n%2?e(t,!0):'"'+t.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':e(n[1])).replace(/\uFFF0/g,b(0)).replace(/\uFFF1/g,b(1))+";")}function e(t,e){return t=t.replace(/\n/g," ").replace(b(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+t.replace(/\W*([\w- ]+)\W*:([^,]+)/g,function(t,e,i){return i.replace(/[^&|=!><]+/g,n)+'?"'+e.trim()+'":"",'})+'].join(" ").trim()':n(t,e)}function n(t,e){return t=t.trim(),t?"(function(v){try{v="+(t.replace(o,function(t,e,n){return n?"(d."+n+"===undefined?window."+n+":d."+n+")":t})||"x")+"}finally{return "+(e===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function i(t,e){var n=[],i=0;return t.replace(e,function(e,r){n.push(t.slice(i,r),e),i=r+e.length}),n.concat(t.slice(i))}var r={},o=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(e,n){return e&&(r[e]=r[e]||t(e))(n)}}(),k=[],S={};x.tag=function(t,e,n,i){"function"==typeof n?i=n:n&&h(n),S[t]={name:t,tmpl:e,fn:i}},x.mount=function(t,e,n){function i(t){var i=e||t.tagName.toLowerCase(),o=y(t,i,n);o&&r.push(o)}"*"==t&&(t=Object.keys(S).join(", ")),"object"==typeof e&&(n=e,e=0);var r=[];return t.tagName?(i(t),r[0]):(u(document.querySelectorAll(t),i),r)},x.update=function(){return u(k,function(t){t.update()})},x.mountTo=x.mount,x.util={brackets:b,tmpl:w},"object"==typeof exports?module.exports=x:"function"==typeof define&&define.amd?define(function(){return x}):this.riot=x}(),riot.tag("tf-types",'<div class="tf-types-scroller"> <div class="tf-types-container"> <div class="tf-types"> <div each="{type in this.types}" class="tf-type" onclick="{parent.handleClick}"> <div class="name" riot-style="color: #{type.badge.color_1}"> {type.name} </div> <img class="tf-badge" riot-src="{type.badge.image_medium}"> <div class="score"> {type.score} / 100 </div> </div> <div class="tf-arrow {this.arrow}"> <div class="tf-icon"></div> </div> </div> </div> </div> <div class="tf-description"> {this.description} </div>','@font-face { font-family: "Source Sans Pro"; font-style: normal; font-weight: 400; src: local(\'Source Sans Pro\'), local(\'Source Sans Pro\'), url("https://s3.amazonaws.com/traitify-cdn/assets/fonts/source-sans-pro.woff") format(\'woff\'); } .tf-types-scroller{ overflow-y: hidden; overflow-x: auto; height: 220px; width: 100%; } .tf-types-container{ position: relative; background-color: #022946; font-family: "Source Sans Pro"; color: #fff; min-width: 910px; } tf-types .tf-arrow{ text-align: center; width: 130px; bottom: -20px; position: absolute; left: 0px; -webkit-transition: left .2s linear; -moz-transition: left .2s linear; -o-transition: left .2s linear; transition: left .2s linear; } tf-types .tf-arrow.position-1{ left: 130px; } tf-types .tf-arrow.position-2{ left: 260px; } tf-types .tf-arrow.position-3{ left: 390px; } tf-types .tf-arrow.position-4{ left: 520px; } tf-types .tf-arrow.position-5{ left: 650px; } tf-types .tf-arrow.position-6{ left: 780px; } tf-types .tf-arrow.position-7{ left: 910px; } tf-types .tf-arrow .tf-icon{ width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-top: 20px solid #022946; margin: 0px auto; } tf-types .tf-badge{ width: 60px; height: 60px; margin: 18px auto; } tf-types .tf-types{ width: 910px; margin: 0px auto; position: relative; } tf-types .tf-type{ display: inline-block; width: 130px; text-align: center; padding: 20px 0px; cursor: pointer; } tf-types .tf-description{ max-width: 800px; margin: 0px auto; font-family: "Source Sans Pro"; }',function(){var t;this.assessmentId=this.root.getAttribute("assessment-id"),t=this,window.Traitify.getPersonalityTypes(this.assessmentId).then(function(e){var n;return n=function(t){var e;return e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},t.types=e.personality_types.map(function(t){var e;return e=Math.round(t.score),t=t.personality_type,t.score=e,t}),t.description=t.types[0].description,t.handleClick=function(){return t.description=this.type.description,t.arrow="position-"+t.types.indexOf(this.type),t.update()},t.update(),console.log(t.handleClick)})}),riot.tag("tf-traits",'<div class="tf-personality-traits"> <div each="{trait in this.traits}" class="tf-trait" riot-style="border-color:#{trait.badge.color_1}"> <div class="tf-name">{trait.name}</div> <div class="tf-definition">{trait.definition}</div> <div class="tf-background" riot-style="background-image:url({trait.badge.image_medium})"></div> </div> </div>','tf-traits .tf-personality-traits{ font-family: "Source Sans Pro"; } tf-traits div, tf-traits img{ box-sizing: content-box; } tf-traits .your-top-traits{ font-size: 24px; margin: 20px; text-align: center; } tf-traits .tf-personality-traits{ max-width:800px; margin:0px auto; text-align: center; } tf-traits .tf-trait{ border-top: 6px solid; border-color: #99aaff; display: inline-block; width: 180px; margin: 5px; vertical-align:top; background-color:#fff; height: 180px; position:relative; line-height: 1.2em; text-align:center; } tf-traits.ie .tf-trait{ height:280px; } @media (max-width: 768px) { tf-traits .personality-traits .tf-trait{ width:45%; } } tf-traits .tf-trait .tf-name{ margin: 20px 20px; margin-bottom: 0px; display: inline-block; font-weight: 600; text-align: left; } tf-traits.ie .personality-traits .tf-trait .tf-name{ display:block; text-align:center; } tf-traits .tf-trait .tf-definition{ padding: 0px 20px; margin-top: 10px; font-size:14px; font-weight: 400; text-align: left; } tf-traits .tf-trait .tf-background{ width: 80%; height: 80%; margin: 10%; top: 10px; position:absolute; background-size: contain; background-repeat: no-repeat; background-position: center center; opacity: .15 } tf-traits.ie .tf-trait .tf-background{ margin: 0px auto; width: 50px; height: 50px; position:relative; }',function(){var t;this.assessmentId=this.root.getAttribute("assessment-id"),t=this,window.Traitify.getPersonalityTraits(this.assessmentId).then(function(e){return t.traits=e.slice(0,8).map(function(t){var e;return e=t.personality_trait,e.badge=e.personality_type.badge,e}),t.update()})});
!function(){function t(t){var e={val:t},i=t.split(/\s+in\s+/);return i[1]&&(e.val=x(0)+i[1],i=i[0].slice(x(0).length).trim().split(/,\s*/),e.key=i[0],e.pos=i[1]),e}function e(t,e,i){var n={};return n[t.key]=e,t.pos&&(n[t.pos]=i),n}function i(i,n,r){function a(t,e,i){d.splice(t,0,e),y.splice(t,0,i)}p(i,"each");var s,f=i.outerHTML,c=i.previousSibling,u=i.parentNode,d=[],y=[];r=t(r),n.one("update",function(){u.removeChild(i)}).one("premount",function(){u.stub&&(u=n.root)}).on("update",function(){var t=w(r.val,n);if(t){if(!Array.isArray(t)){var i=JSON.stringify(t);if(i==s)return;s=i,l(y,function(t){t.unmount()}),d=[],y=[],t=Object.keys(t).map(function(i){return e(r,i,t[i])})}l(g(d,t),function(t){var e=d.indexOf(t),i=y[e];i&&(i.unmount(),d.splice(e,1),y.splice(e,1))});var p=u.childNodes,h=[].indexOf.call(p,c);l(t,function(i,l){var c=t.indexOf(i,l),g=d.indexOf(i,l);if(0>c&&(c=t.lastIndexOf(i,l)),0>g&&(g=d.lastIndexOf(i,l)),0>g){!s&&r.key&&(i=e(r,i,c));var m=new o({tmpl:f},{before:p[h+1+c],parent:n,root:u,item:i});return m.mount(),a(c,i,m)}return r.pos&&y[g][r.pos]!=c&&(y[g].one("update",function(t){t[r.pos]=c}),y[g].update()),c!=g?(u.insertBefore(p[h+g+1],p[h+c+1]),a(c,d.splice(g,1)[0],y.splice(g,1)[0])):void 0}),d=t.slice()}})}function n(t,e,i){d(t,function(t){if(1==t.nodeType){var n=h(t);if(n&&!t.getAttribute("each")){var r=new o(n,{root:t,parent:e});e.tags[t.getAttribute("name")||n.name]=r,i.push(r)}l(t.attributes,function(i){/^(name|id)$/.test(i.name)&&(e[i.value]=t)})}})}function r(t,e,n){function r(t,e,i){if(e.indexOf(x(0))>=0){var r={dom:t,expr:e};n.push(c(r,i))}}d(t,function(t){var n=t.nodeType;if(3==n&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==n){var o=t.getAttribute("each");return o?(i(t,e,o),!1):(l(t.attributes,function(e){var i=e.name,n=i.split("__")[1];return r(t,e.value,{attr:n||i,bool:n}),n?(p(t,i),!1):void 0}),h(t)?!1:void 0)}})}function o(t,e){function i(){l(Object.keys(S),function(t){p[t]=w(S[t],g||s)})}function o(t){if(l(m,function(e){e[t?"mount":"unmount"]()}),g){var e=t?"on":"off";g[e]("update",s.update)[e]("unmount",s.unmount)}}var a,s=v.observable(this),p=y(e.opts)||{},d=u(t.tmpl),g=e.parent,h=[],m=[],b=e.root,x=e.item,k=t.fn,S={};k&&b.riot||(b.riot=!0,c(this,{parent:g,root:b,opts:p,tags:{}},x),l(b.attributes,function(t){S[t.name]=t.value}),this.update=function(t){c(s,t,x),i(),s.trigger("update",x),f(h,s,x),s.trigger("updated")},this.mount=function(){if(i(),k&&k.call(s,p),o(!0),r(d,s,h),s.update(),s.trigger("premount"),k)for(;d.firstChild;)b.appendChild(d.firstChild);else a=d.firstChild,b.insertBefore(a,e.before||null);b.stub&&(s.root=b=g.root),s.trigger("mount")},this.unmount=function(){var t=k?b:a,e=t.parentNode;if(e){if(g)e.removeChild(t);else for(;b.firstChild;)b.removeChild(b.firstChild);o(),s.trigger("unmount"),s.off("*"),delete b.riot}},n(d,this,m))}function a(t,e,i,n,r){i[t]=function(t){t=t||window.event,t.which=t.which||t.charCode||t.keyCode,t.target=t.target||t.srcElement,t.currentTarget=i,t.item=r,e.call(n,t)!==!0&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1);var o=r?n.parent:n;o.update()}}function s(t,e,i){t&&(t.insertBefore(i,e),t.removeChild(e))}function f(t,e,i){l(t,function(t){var n=t.dom,r=t.attr,o=w(t.expr,e),f=t.dom.parentNode;if(null==o&&(o=""),f&&"TEXTAREA"==f.tagName&&(o=o.replace(/riot-/g,"")),t.value!==o){if(t.value=o,!r)return n.nodeValue=o;if(p(n,r),"function"==typeof o)a(r,o,n,e,i);else if("if"==r){var l=t.stub;o?l&&s(l.parentNode,l,n):(l=t.stub=l||document.createTextNode(""),s(n.parentNode,n,l))}else if(/^(show|hide)$/.test(r))"hide"==r&&(o=!o),n.style.display=o?"":"none";else if("value"==r)n.value=o;else if("riot-"==r.slice(0,5))r=r.slice(5),o?n.setAttribute(r,o):p(n,r);else{if(t.bool){if(n[r]=o,!o)return;o=r}"object"!=typeof o&&n.setAttribute(r,o)}}})}function l(t,e){for(var i,n=0,r=(t||[]).length;r>n;n++)i=t[n],null!=i&&e(i,n)===!1&&n--;return t}function p(t,e){t.removeAttribute(e)}function c(t,e,i){return e&&l(Object.keys(e),function(i){t[i]=e[i]}),i?c(t,i):t}function u(t){var e=t.trim().slice(1,3).toLowerCase(),i=/td|th/.test(e)?"tr":"tr"==e?"tbody":"div",n=document.createElement(i);return n.stub=!0,n.innerHTML=t,n}function d(t,e){if(t)if(e(t)===!1)d(t.nextSibling,e);else for(t=t.firstChild;t;)d(t,e),t=t.nextSibling}function g(t,e){return t.filter(function(t){return e.indexOf(t)<0})}function y(t){function e(){}return e.prototype=t,new e}function h(t){return S[t.tagName.toLowerCase()]}function m(t){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}function b(t,e,i){var n=S[e];return n&&t&&(n=new o(n,{root:t,opts:i})),n&&n.mount?(n.mount(),k.push(n),n.on("unmount",function(){k.splice(k.indexOf(n),1)})):void 0}var v={version:"v2.0.12",settings:{}};v.observable=function(t){t=t||{};var e={},i=0;return t.on=function(n,r){return"function"==typeof r&&(r._id="undefined"==typeof r._id?i++:r._id,n.replace(/\S+/g,function(t,i){(e[t]=e[t]||[]).push(r),r.typed=i>0})),t},t.off=function(i,n){return"*"==i?e={}:i.replace(/\S+/g,function(t){if(n)for(var i,r=e[t],o=0;i=r&&r[o];++o)i._id==n._id&&(r.splice(o,1),o--);else e[t]=[]}),t},t.one=function(e,i){return i&&(i.one=1),t.on(e,i)},t.trigger=function(i){for(var n,r=[].slice.call(arguments,1),o=e[i]||[],a=0;n=o[a];++a)n.busy||(n.busy=1,n.apply(t,n.typed?[i].concat(r):r),n.one?(o.splice(a,1),a--):o[a]!==n&&a--,n.busy=0);return t},t},function(t,e){function i(){return a.hash.slice(1)}function n(t){return t.split("/")}function r(t){t.type&&(t=i()),t!=o&&(s.trigger.apply(null,["H"].concat(n(t))),o=t)}if(this.top){var o,a=location,s=t.observable(),f=window,l=t.route=function(t){t[0]?(a.hash=t,r(t)):s.on("H",t)};l.exec=function(t){t.apply(null,n(i()))},l.parser=function(t){n=t},f.addEventListener?f.addEventListener(e,r,!1):f.attachEvent("on"+e,r)}}(v,"hashchange");var x=function(t,e,i){return function(n){return e=v.settings.brackets||t,i!=e&&(i=e.split(" ")),n&&n.test?e==t?n:RegExp(n.source.replace(/\{/g,i[0].replace(/(?=.)/g,"\\")).replace(/\}/g,i[1].replace(/(?=.)/g,"\\")),n.global?"g":""):i[n]}}("{ }"),w=function(){function t(t,i){return t=(t||x(0)+x(1)).replace(x(/\\{/g),"￰").replace(x(/\\}/g),"￱"),i=n(t,x(/{[\s\S]*?}/g)),new Function("d","return "+(i[0]||i[2]||i[3]?"["+i.map(function(t,i){return i%2?e(t,!0):'"'+t.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':e(i[1])).replace(/\uFFF0/g,x(0)).replace(/\uFFF1/g,x(1))+";")}function e(t,e){return t=t.replace(/\n/g," ").replace(x(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+t.replace(/\W*([\w- ]+)\W*:([^,]+)/g,function(t,e,n){return n.replace(/[^&|=!><]+/g,i)+'?"'+e.trim()+'":"",'})+'].join(" ").trim()':i(t,e)}function i(t,e){return t=t.trim(),t?"(function(v){try{v="+(t.replace(o,function(t,e,i){return i?"(d."+i+"===undefined?window."+i+":d."+i+")":t})||"x")+"}finally{return "+(e===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function n(t,e){var i=[],n=0;return t.replace(e,function(e,r){i.push(t.slice(n,r),e),n=r+e.length}),i.concat(t.slice(n))}var r={},o=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(e,i){return e&&(r[e]=r[e]||t(e))(i)}}(),k=[],S={};v.tag=function(t,e,i,n){"function"==typeof i?n=i:i&&m(i),S[t]={name:t,tmpl:e,fn:n}},v.mount=function(t,e,i){function n(t){var n=e||t.tagName.toLowerCase(),o=b(t,n,i);o&&r.push(o)}"*"==t&&(t=Object.keys(S).join(", ")),"object"==typeof e&&(i=e,e=0);var r=[];return t.tagName?(n(t),r[0]):(l(document.querySelectorAll(t),n),r)},v.update=function(){return l(k,function(t){t.update()})},v.mountTo=v.mount,v.util={brackets:x,tmpl:w},"object"==typeof exports?module.exports=v:"function"==typeof define&&define.amd?define(function(){return v}):this.riot=v}(),riot.tag("tf-blend",'<div class="tf-badges"> <div class="tf-badge" riot-style="border-color: {this.type1.border}; background-color: rgba({this.type1.bg.r},{this.type1.bg.g},{this.type1.bg.b}, .3)"> <img riot-src="{this.type1.badge.image_medium}"> </div> <div class="tf-badge" riot-style="border-color: {this.type2.border};background-color: rgba({this.type2.bg.r},{this.type2.bg.g},{this.type2.bg.b}, .3)"> <img riot-src="{this.type2.badge.image_medium}"> </div> </div> <h2>{this.type1.name} / {this.type2.name}</h2> <div class="description">{this.description}</div> </div>','@font-face { font-family: "Source Sans Pro"; font-style: normal; font-weight: 400; src: local(\'Source Sans Pro\'), local(\'Source Sans Pro\'), url("https://s3.amazonaws.com/traitify-cdn/assets/fonts/source-sans-pro.woff") format(\'woff\'); } tf-blend{ width: 100%; } tf-blend{ font-family: "Source Sans Pro"; padding: 10px; } tf-blend.ie{ font-family: "Helvetica Neue", Helvetica, Arial, "sans-serif"; } tf-blend div, img{ box-sizing: content-box; width: 100%; } tf-blend .tf-badge{ width: 22%; padding:12%; position: relative; border-radius: 50%; border: 3px solid; display: inline-block; } tf-blend .tf-badge:first-child{ margin-right: -4%; } tf-blend .tf-badge:last-child{ margin-left: -4%; } tf-blend .tf-badges{ width: 100%; max-width: 330px; margin: 0px auto; text-align:center; } tf-blend h2{ text-align: center; font-size: 25px; font-weight: 400; } .description{ max-width: 800px; margin: 0px auto; text-align: justify; }',function(){var t;this.assessmentId=this.root.getAttribute("assessment-id"),t=this,window.Traitify.getPersonalityTypes(this.assessmentId).then(function(e){var i,n,r;return t.type1=e.personality_blend.personality_type_1,t.type2=e.personality_blend.personality_type_2,r=function(t){var e;return e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},i=t.type1.badge.color_1,t.type1.bg=r(i),t.type1.border=t.type1.badge.color_1,n=t.type2.badge.color_1,t.type2.bg=r(n),t.type2.border=t.type2.badge.color_1,t.description=e.personality_blend.description,t.update()})}),riot.tag("tf-traits",'<div class="tf-personality-traits"> <div each="{trait in this.traits}" class="tf-trait" riot-style="border-color:#{trait.badge.color_1}"> <div class="tf-name">{trait.name}</div> <div class="tf-definition">{trait.definition}</div> <div class="tf-background" riot-style="background-image:url({trait.badge.image_medium})"></div> </div> </div>','tf-traits .tf-personality-traits{ font-family: "Source Sans Pro"; } tf-traits div, tf-traits img{ box-sizing: content-box; } tf-traits .your-top-traits{ font-size: 24px; margin: 20px; text-align: center; } tf-traits .tf-personality-traits{ max-width:800px; margin:0px auto; text-align: center; } tf-traits .tf-trait{ border-top: 6px solid; border-color: #99aaff; display: inline-block; width: 180px; margin: 5px; vertical-align:top; background-color:#fff; height: 180px; position:relative; line-height: 1.2em; text-align:center; } tf-traits.ie .tf-trait{ height:280px; } @media (max-width: 768px) { tf-traits .personality-traits .tf-trait{ width:45%; } } tf-traits .tf-trait .tf-name{ margin: 20px 20px; margin-bottom: 0px; display: inline-block; font-weight: 600; text-align: left; } tf-traits.ie .personality-traits .tf-trait .tf-name{ display:block; text-align:center; } tf-traits .tf-trait .tf-definition{ padding: 0px 20px; margin-top: 10px; font-size:14px; font-weight: 400; text-align: left; } tf-traits .tf-trait .tf-background{ width: 80%; height: 80%; margin: 10%; top: 10px; position:absolute; background-size: contain; background-repeat: no-repeat; background-position: center center; opacity: .15 } tf-traits.ie .tf-trait .tf-background{ margin: 0px auto; width: 50px; height: 50px; position:relative; }',function(){var t;this.assessmentId=this.root.getAttribute("assessment-id"),t=this,window.Traitify.getPersonalityTraits(this.assessmentId).then(function(e){return t.traits=e.slice(0,8).map(function(t){var e;return e=t.personality_trait,e.badge=e.personality_type.badge,e}),t.update()})}),riot.tag("tf-types",'<div class="tf-types-scroller"> <div class="tf-types-container"> <div class="tf-types"> <div each="{type in this.types}" class="tf-type" onclick="{parent.handleClick}"> <div class="name" riot-style="color: #{type.badge.color_1}"> {type.name} </div> <img class="tf-badge" riot-src="{type.badge.image_medium}"> <div class="score"> {type.score} / 100 </div> </div> <div class="tf-arrow {this.arrow}"> <div class="tf-icon"></div> </div> </div> </div> </div> <div class="tf-description"> {this.description} </div>','@font-face { font-family: "Source Sans Pro"; font-style: normal; font-weight: 400; src: local(\'Source Sans Pro\'), local(\'Source Sans Pro\'), url("https://s3.amazonaws.com/traitify-cdn/assets/fonts/source-sans-pro.woff") format(\'woff\'); } .tf-types-scroller{ overflow-y: hidden; overflow-x: auto; height: 220px; width: 100%; } .tf-types-container{ position: relative; background-color: #022946; font-family: "Source Sans Pro"; color: #fff; min-width: 910px; } tf-types .tf-arrow{ text-align: center; width: 130px; bottom: -20px; position: absolute; left: 0px; -webkit-transition: left .2s linear; -moz-transition: left .2s linear; -o-transition: left .2s linear; transition: left .2s linear; } tf-types .tf-arrow.position-1{ left: 130px; } tf-types .tf-arrow.position-2{ left: 260px; } tf-types .tf-arrow.position-3{ left: 390px; } tf-types .tf-arrow.position-4{ left: 520px; } tf-types .tf-arrow.position-5{ left: 650px; } tf-types .tf-arrow.position-6{ left: 780px; } tf-types .tf-arrow.position-7{ left: 910px; } tf-types .tf-arrow .tf-icon{ width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-top: 20px solid #022946; margin: 0px auto; } tf-types .tf-badge{ width: 60px; height: 60px; margin: 18px auto; } tf-types .tf-types{ width: 910px; margin: 0px auto; position: relative; } tf-types .tf-type{ display: inline-block; width: 130px; text-align: center; padding: 20px 0px; cursor: pointer; } tf-types .tf-description{ max-width: 800px; margin: 0px auto; font-family: "Source Sans Pro"; }',function(){var t;this.assessmentId=this.root.getAttribute("assessment-id"),t=this,window.Traitify.getPersonalityTypes(this.assessmentId).then(function(e){var i;return i=function(t){var e;return e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},t.types=e.personality_types.map(function(t){var e;return e=Math.round(t.score),t=t.personality_type,t.score=e,t}),t.description=t.types[0].description,t.handleClick=function(){return t.description=this.type.description,t.arrow="position-"+t.types.indexOf(this.type),t.update()},t.update(),console.log(t.handleClick)})});
!function(){function t(t){var e={val:t},n=t.split(/\s+in\s+/);return n[1]&&(e.val=x(0)+n[1],n=n[0].slice(x(0).length).trim().split(/,\s*/),e.key=n[0],e.pos=n[1]),e}function e(t,e,n){var i={};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function n(n,i,r){function a(t,e,n){p.splice(t,0,e),b.splice(t,0,n)}c(n,"each");var s,u=n.outerHTML,l=n.previousSibling,d=n.parentNode,p=[],b=[];r=t(r),i.one("update",function(){d.removeChild(n)}).one("premount",function(){d.stub&&(d=i.root)}).on("update",function(){var t=w(r.val,i);if(t){if(!Array.isArray(t)){var n=JSON.stringify(t);if(n==s)return;s=n,f(b,function(t){t.unmount()}),p=[],b=[],t=Object.keys(t).map(function(n){return e(r,n,t[n])})}f(g(p,t),function(t){var e=p.indexOf(t),n=b[e];n&&(n.unmount(),p.splice(e,1),b.splice(e,1))});var c=d.childNodes,m=[].indexOf.call(c,l);f(t,function(n,f){var l=t.indexOf(n,f),g=p.indexOf(n,f);if(0>l&&(l=t.lastIndexOf(n,f)),0>g&&(g=p.lastIndexOf(n,f)),0>g){!s&&r.key&&(n=e(r,n,l));var h=new o({tmpl:u},{before:c[m+1+l],parent:i,root:d,item:n});return h.mount(),a(l,n,h)}return r.pos&&b[g][r.pos]!=l&&(b[g].one("update",function(t){t[r.pos]=l}),b[g].update()),l!=g?(d.insertBefore(c[m+g+1],c[m+l+1]),a(l,p.splice(g,1)[0],b.splice(g,1)[0])):void 0}),p=t.slice()}})}function i(t,e,n){p(t,function(t){if(1==t.nodeType){var i=m(t);if(i&&!t.getAttribute("each")){var r=new o(i,{root:t,parent:e});e.tags[t.getAttribute("name")||i.name]=r,n.push(r)}f(t.attributes,function(n){/^(name|id)$/.test(n.name)&&(e[n.value]=t)})}})}function r(t,e,i){function r(t,e,n){if(e.indexOf(x(0))>=0){var r={dom:t,expr:e};i.push(l(r,n))}}p(t,function(t){var i=t.nodeType;if(3==i&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==i){var o=t.getAttribute("each");return o?(n(t,e,o),!1):(f(t.attributes,function(e){var n=e.name,i=n.split("__")[1];return r(t,e.value,{attr:i||n,bool:i}),i?(c(t,n),!1):void 0}),m(t)?!1:void 0)}})}function o(t,e){function n(){f(Object.keys(k),function(t){c[t]=w(k[t],g||s)})}function o(t){if(f(h,function(e){e[t?"mount":"unmount"]()}),g){var e=t?"on":"off";g[e]("update",s.update)[e]("unmount",s.unmount)}}var a,s=y.observable(this),c=b(e.opts)||{},p=d(t.tmpl),g=e.parent,m=[],h=[],v=e.root,x=e.item,_=t.fn,k={};_&&v.riot||(v.riot=!0,l(this,{parent:g,root:v,opts:c,tags:{}},x),f(v.attributes,function(t){k[t.name]=t.value}),this.update=function(t){l(s,t,x),n(),s.trigger("update",x),u(m,s,x),s.trigger("updated")},this.mount=function(){if(n(),_&&_.call(s,c),o(!0),r(p,s,m),s.update(),s.trigger("premount"),_)for(;p.firstChild;)v.appendChild(p.firstChild);else a=p.firstChild,v.insertBefore(a,e.before||null);v.stub&&(s.root=v=g.root),s.trigger("mount")},this.unmount=function(){var t=_?v:a,e=t.parentNode;if(e){if(g)e.removeChild(t);else for(;v.firstChild;)v.removeChild(v.firstChild);o(),s.trigger("unmount"),s.off("*"),delete v.riot}},i(p,this,h))}function a(t,e,n,i,r){n[t]=function(t){t=t||window.event,t.which=t.which||t.charCode||t.keyCode,t.target=t.target||t.srcElement,t.currentTarget=n,t.item=r,e.call(i,t)!==!0&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1);var o=r?i.parent:i;o.update()}}function s(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function u(t,e,n){f(t,function(t){var i=t.dom,r=t.attr,o=w(t.expr,e),u=t.dom.parentNode;if(null==o&&(o=""),u&&"TEXTAREA"==u.tagName&&(o=o.replace(/riot-/g,"")),t.value!==o){if(t.value=o,!r)return i.nodeValue=o;if(c(i,r),"function"==typeof o)a(r,o,i,e,n);else if("if"==r){var f=t.stub;o?f&&s(f.parentNode,f,i):(f=t.stub=f||document.createTextNode(""),s(i.parentNode,i,f))}else if(/^(show|hide)$/.test(r))"hide"==r&&(o=!o),i.style.display=o?"":"none";else if("value"==r)i.value=o;else if("riot-"==r.slice(0,5))r=r.slice(5),o?i.setAttribute(r,o):c(i,r);else{if(t.bool){if(i[r]=o,!o)return;o=r}"object"!=typeof o&&i.setAttribute(r,o)}}})}function f(t,e){for(var n,i=0,r=(t||[]).length;r>i;i++)n=t[i],null!=n&&e(n,i)===!1&&i--;return t}function c(t,e){t.removeAttribute(e)}function l(t,e,n){return e&&f(Object.keys(e),function(n){t[n]=e[n]}),n?l(t,n):t}function d(t){var e=t.trim().slice(1,3).toLowerCase(),n=/td|th/.test(e)?"tr":"tr"==e?"tbody":"div",i=document.createElement(n);return i.stub=!0,i.innerHTML=t,i}function p(t,e){if(t)if(e(t)===!1)p(t.nextSibling,e);else for(t=t.firstChild;t;)p(t,e),t=t.nextSibling}function g(t,e){return t.filter(function(t){return e.indexOf(t)<0})}function b(t){function e(){}return e.prototype=t,new e}function m(t){return k[t.tagName.toLowerCase()]}function h(t){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}function v(t,e,n){var i=k[e];return i&&t&&(i=new o(i,{root:t,opts:n})),i&&i.mount?(i.mount(),_.push(i),i.on("unmount",function(){_.splice(_.indexOf(i),1)})):void 0}var y={version:"v2.0.12",settings:{}};y.observable=function(t){t=t||{};var e={},n=0;return t.on=function(i,r){return"function"==typeof r&&(r._id="undefined"==typeof r._id?n++:r._id,i.replace(/\S+/g,function(t,n){(e[t]=e[t]||[]).push(r),r.typed=n>0})),t},t.off=function(n,i){return"*"==n?e={}:n.replace(/\S+/g,function(t){if(i)for(var n,r=e[t],o=0;n=r&&r[o];++o)n._id==i._id&&(r.splice(o,1),o--);else e[t]=[]}),t},t.one=function(e,n){return n&&(n.one=1),t.on(e,n)},t.trigger=function(n){for(var i,r=[].slice.call(arguments,1),o=e[n]||[],a=0;i=o[a];++a)i.busy||(i.busy=1,i.apply(t,i.typed?[n].concat(r):r),i.one?(o.splice(a,1),a--):o[a]!==i&&a--,i.busy=0);return t},t},function(t,e){function n(){return a.hash.slice(1)}function i(t){return t.split("/")}function r(t){t.type&&(t=n()),t!=o&&(s.trigger.apply(null,["H"].concat(i(t))),o=t)}if(this.top){var o,a=location,s=t.observable(),u=window,f=t.route=function(t){t[0]?(a.hash=t,r(t)):s.on("H",t)};f.exec=function(t){t.apply(null,i(n()))},f.parser=function(t){i=t},u.addEventListener?u.addEventListener(e,r,!1):u.attachEvent("on"+e,r)}}(y,"hashchange");var x=function(t,e,n){return function(i){return e=y.settings.brackets||t,n!=e&&(n=e.split(" ")),i&&i.test?e==t?i:RegExp(i.source.replace(/\{/g,n[0].replace(/(?=.)/g,"\\")).replace(/\}/g,n[1].replace(/(?=.)/g,"\\")),i.global?"g":""):n[i]}}("{ }"),w=function(){function t(t,n){return t=(t||x(0)+x(1)).replace(x(/\\{/g),"￰").replace(x(/\\}/g),"￱"),n=i(t,x(/{[\s\S]*?}/g)),new Function("d","return "+(n[0]||n[2]||n[3]?"["+n.map(function(t,n){return n%2?e(t,!0):'"'+t.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':e(n[1])).replace(/\uFFF0/g,x(0)).replace(/\uFFF1/g,x(1))+";")}function e(t,e){return t=t.replace(/\n/g," ").replace(x(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+t.replace(/\W*([\w- ]+)\W*:([^,]+)/g,function(t,e,i){return i.replace(/[^&|=!><]+/g,n)+'?"'+e.trim()+'":"",'})+'].join(" ").trim()':n(t,e)}function n(t,e){return t=t.trim(),t?"(function(v){try{v="+(t.replace(o,function(t,e,n){return n?"(d."+n+"===undefined?window."+n+":d."+n+")":t})||"x")+"}finally{return "+(e===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function i(t,e){var n=[],i=0;return t.replace(e,function(e,r){n.push(t.slice(i,r),e),i=r+e.length}),n.concat(t.slice(i))}var r={},o=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(e,n){return e&&(r[e]=r[e]||t(e))(n)}}(),_=[],k={};y.tag=function(t,e,n,i){"function"==typeof n?i=n:n&&h(n),k[t]={name:t,tmpl:e,fn:i}},y.mount=function(t,e,n){function i(t){var i=e||t.tagName.toLowerCase(),o=v(t,i,n);o&&r.push(o)}"*"==t&&(t=Object.keys(k).join(", ")),"object"==typeof e&&(n=e,e=0);var r=[];return t.tagName?(i(t),r[0]):(f(document.querySelectorAll(t),i),r)},y.update=function(){return f(_,function(t){t.update()})},y.mountTo=y.mount,y.util={brackets:x,tmpl:w},"object"==typeof exports?module.exports=y:"function"==typeof define&&define.amd?define(function(){return y}):this.riot=y}(),riot.tag("tf-blend",'<div class="tf-badges"> <div class="tf-badge" riot-style="border-color: {this.type1.border}; background-color: rgba({this.type1.bg.r},{this.type1.bg.g},{this.type1.bg.b}, .3)"> <img riot-src="{this.type1.badge.image_medium}"> </div> <div class="tf-badge" riot-style="border-color: {this.type2.border};background-color: rgba({this.type2.bg.r},{this.type2.bg.g},{this.type2.bg.b}, .3)"> <img riot-src="{this.type2.badge.image_medium}"> </div> </div> <h2>{this.type1.name} / {this.type2.name}</h2> <div class="description">{this.description}</div> </div>','@font-face { font-family: "Source Sans Pro"; font-style: normal; font-weight: 400; src: local(\'Source Sans Pro\'), local(\'Source Sans Pro\'), url("https://s3.amazonaws.com/traitify-cdn/assets/fonts/source-sans-pro.woff") format(\'woff\'); } tf-blend{ width: 100%; } tf-blend{ font-family: "Source Sans Pro"; padding: 10px; } tf-blend.ie{ font-family: "Helvetica Neue", Helvetica, Arial, "sans-serif"; } tf-blend div, img{ box-sizing: content-box; width: 100%; } tf-blend .tf-badge{ width: 22%; padding:12%; position: relative; border-radius: 50%; border: 3px solid; display: inline-block; } tf-blend .tf-badge:first-child{ margin-right: -4%; } tf-blend .tf-badge:last-child{ margin-left: -4%; } tf-blend .tf-badges{ width: 100%; max-width: 330px; margin: 0px auto; text-align:center; } tf-blend h2{ text-align: center; font-size: 25px; font-weight: 400; } .description{ max-width: 800px; margin: 0px auto; text-align: justify; }',function(){var t;this.assessmentId=this.root.getAttribute("assessment-id"),t=this,window.Traitify.getPersonalityTypes(this.assessmentId).then(function(e){var n,i,r;return t.type1=e.personality_blend.personality_type_1,t.type2=e.personality_blend.personality_type_2,r=function(t){var e;return e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},n=t.type1.badge.color_1,t.type1.bg=r(n),t.type1.border=t.type1.badge.color_1,i=t.type2.badge.color_1,t.type2.bg=r(i),t.type2.border=t.type2.badge.color_1,t.description=e.personality_blend.description,t.update()})}),riot.tag("tf-traits",'<div class="tf-personality-traits"> <div each="{trait in this.traits}" class="tf-trait" riot-style="border-color:#{trait.badge.color_1}"> <div class="tf-name">{trait.name}</div> <div class="tf-definition">{trait.definition}</div> <div class="tf-background" riot-style="background-image:url({trait.badge.image_medium})"></div> </div> </div>','tf-traits .tf-personality-traits{ font-family: "Source Sans Pro"; } tf-traits div, tf-traits img{ box-sizing: content-box; } tf-traits .your-top-traits{ font-size: 24px; margin: 20px; text-align: center; } tf-traits .tf-personality-traits{ max-width:800px; margin:0px auto; text-align: center; } tf-traits .tf-trait{ border-top: 6px solid; border-color: #99aaff; display: inline-block; width: 180px; margin: 5px; vertical-align:top; background-color:#fff; height: 180px; position:relative; line-height: 1.2em; text-align:center; } tf-traits.ie .tf-trait{ height:280px; } @media (max-width: 768px) { tf-traits .personality-traits .tf-trait{ width:45%; } } tf-traits .tf-trait .tf-name{ margin: 20px 20px; margin-bottom: 0px; display: inline-block; font-weight: 600; text-align: left; } tf-traits.ie .personality-traits .tf-trait .tf-name{ display:block; text-align:center; } tf-traits .tf-trait .tf-definition{ padding: 0px 20px; margin-top: 10px; font-size:14px; font-weight: 400; text-align: left; } tf-traits .tf-trait .tf-background{ width: 80%; height: 80%; margin: 10%; top: 10px; position:absolute; background-size: contain; background-repeat: no-repeat; background-position: center center; opacity: .15 } tf-traits.ie .tf-trait .tf-background{ margin: 0px auto; width: 50px; height: 50px; position:relative; }',function(){var t;this.assessmentId=this.root.getAttribute("assessment-id"),t=this,window.Traitify.getPersonalityTraits(this.assessmentId).then(function(e){return t.traits=e.slice(0,8).map(function(t){var e;return e=t.personality_trait,e.badge=e.personality_type.badge,e}),t.update()})});